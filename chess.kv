WindowManager:
    id: screenManager
    HomePage:
    PvsmScreen:
    PvspScreen:
    SaveWind:
    StatsScreen:
    ConnectionPg:

<ContentPopup>:
    orientation:"vertical"
    BoxLayout:
        Label:
            text:"Voulez-vous sauver le match?"
            bold:True
            size_hint:1,0.2
    BoxLayout:
        Button:
            text:"sauvegarder"
            size_hint:1,0.3
            bold:True
            on_press:
                root.withSave()
        Button:
            text:"Non"
            size_hint:1,0.3
            bold:True
            on_press:
                root.withoutSave()
        Button:
            text:"Annuler"
            size_hint:1,0.3
            bold:True
            on_press: root.closePop()

<SaveWind>:
    name:"save"
    BoxLayout:
        orientation:"vertical"
        Label : 
            text:"Voulez-vous sauvegarder le match?"
        BoxLayout:
            orientation:"horizontal"
            Button:
                text:"Non"
            Button:
                text:"sauvegarder"
<GameUi>:
    spacing: 0
    orientation: 'horizontal'
    BoxLayout:
        size_hint: .25, 1
        orientation: 'vertical'
        BlackCapturedPieces:
            id: black_captured_pieces
        WhiteCapturedPieces:
            id: white_captured_pieces
    BoxLayout:
        size_hint: .03, 1
        orientation: "vertical"
        Label:
            id: fixBox
            background_color: (1,0,0,1)
            canvas.before:
                Color:
                    rgba: self.background_color
                Rectangle:
                    size: self.size
                    pos: self.pos
            size_hint: 1, None
            height: 24
            text: ""
        Label:
            canvas.before:
                Color:
                    rgba: (86/255,83/255,82/255,1)
                Rectangle:
                    size: self.size
                    pos: self.pos
            text: "8"
        Label:
            canvas.before:
                Color:
                    rgba: (86/255,83/255,82/255,1)
                Rectangle:
                    size: self.size
                    pos: self.pos
            text: "7"
        Label:
            canvas.before:
                Color:
                    rgba: (86/255,83/255,82/255,1)
                Rectangle:
                    size: self.size
                    pos: self.pos
            text: "6"
        Label:
            canvas.before:
                Color:
                    rgba: (86/255,83/255,82/255,1)
                Rectangle:
                    size: self.size
                    pos: self.pos
            text: "5"
        Label:
            canvas.before:
                Color:
                    rgba: (86/255,83/255,82/255,1)
                Rectangle:
                    size: self.size
                    pos: self.pos
            text: "4"
        Label:
            canvas.before:
                Color:
                    rgba: (86/255,83/255,82/255,1)
                Rectangle:
                    size: self.size
                    pos: self.pos
            text: "3"
        Label:
            canvas.before:
                Color:
                    rgba: (86/255,83/255,82/255,1)
                Rectangle:
                    size: self.size
                    pos: self.pos
            text: "2"
        Label:  
            canvas.before:
                Color:
                    rgba: (86/255,83/255,82/255,1)
                Rectangle:
                    size: self.size
                    pos: self.pos
            text: "1"
        Label:  
            size_hint: 1, None
            height: 100
            canvas.before:
                Color:
                    rgba: (86/255,83/255,82/255,1)
                Rectangle:
                    size: self.size
                    pos: self.pos
            text: ""
       
    ChessBoardNClocks:
        id: boardNclocks
    

#black captured pieces
<BlackCapturedPieces@BoxLayout>:
    canvas.before:
        Color:
            rgba: (129/255,133/255,137/255,1)
        Rectangle:
            size: self.size
            pos: self.pos
    orientation: 'vertical'
    Label:
        text: "pièces blanches \n      capturées"
        color: (0,0,0,1)
    BoxLayout:
        orientation: "horizontal"
        Image:
            source:  "./Assets/images/w_pawn.png"
        Label:
            text : "X"
            color: (0,0,0,1)
        Label:
            id: pawn
            text: "0"
            color: (0,0,0,1)
    BoxLayout:
        orientation: "horizontal"
        Image:
            source:  "./Assets/images/w_rook.png"
        Label:
            text : "X"
            color: (0,0,0,1)
        Label:
            id: rook
            text: "0"
            color: (0,0,0,1)
    BoxLayout:
        orientation: "horizontal"
        Image:
            source:  "./Assets/images/w_knight.png"
        Label:
            text : "X"
            color: (0,0,0,1)
        Label:
            id: knight
            text: "0"
            color: (0,0,0,1)
    BoxLayout:
        orientation: "horizontal"
        Image:
            source:  "./Assets/images/w_bishop.png"
        Label:
            text : "X"
            color: (0,0,0,1)
        Label:
            id: bishop
            text: "0"
            color: (0,0,0,1)
    BoxLayout:
        orientation: "horizontal"
        Image:
            source:  "./Assets/images/w_queen.png"
        Label:
            text : "X"
            color: (0,0,0,1)
        Label:
            id: queen
            text: "0"
            color: (0,0,0,1)

<WhiteCapturedPieces@BoxLayout>
    orientation: 'vertical'
    canvas.before:
        Color:
            rgba: (129/255,133/255,137/255,1)
        Rectangle:
            size: self.size
            pos: self.pos
    Label:
        text: "pièces noires\n    capturées"
    BoxLayout:
        orientation: "horizontal"
        Image:
            source:  "./Assets/images/b_pawn.png"
        Label:
            text : "X"
        Label:
            id: pawn
            text: "0"
    BoxLayout:
        orientation: "horizontal"
        Image:
            source:  "./Assets/images/b_rook.png"
        Label:
            text : "X"
        Label:
            id: rook
            text: "0"
    BoxLayout:
        orientation: "horizontal"
        Image:
            source:  "./Assets/images/b_knight.png"
        Label:
            text : "X"
        Label:
            id: knight
            text: "0"
    BoxLayout:
        orientation: "horizontal"
        Image:
            source:  "./Assets/images/b_bishop.png"
        Label:
            text : "X"
        Label:
            id: bishop
            text: "0"
    BoxLayout:
        orientation: "horizontal"
        Image:
            source:  "./Assets/images/b_queen.png"
        Label:
            text : "X"
        Label:
            id: queen
            text: "0"

<ChessBoard>:   

<ChessBoardNClocks@BoxLayout>:
    orientation: 'vertical'
    # size_hint: None,None
    # width: 600
    # height: 630
    BoxLayout:
        id: banners_box
        size_hint: 1,None
        height: 25
        Label:
            id: black_player_banner
            text: "Joueur noir"
            color: (0,0,0,1)
            size_hint: 2,None
            background_color: (1,0,0,1)
            canvas.before:
                Color:
                    rgba: self.background_color
                Rectangle:
                    size: self.size
                    pos: self.pos
            height: 25
        Label:
            id: black_player_clock
            size_hint: 1,None
            text: "10:00"
            font_size: "30dp"
            height: 26
            font_name: "./fonts/Lcd.ttf"
    ChessBoard:
    BoxLayout:
        size_hint: 1, .028
        orientation: "horizontal"
        canvas.before:
            Color:
                rgba: (86/255,83/255,82/255,1)
            Rectangle:
                size: self.size
                pos: self.pos
        Label:
            text: "A"
        Label:
            text: "B"
        Label:
            text: "C"
        Label:
            text: "D"
        Label:
            text: "E"
        Label:
            text: "F"
        Label:
            text: "G"
        Label:
            text: "H"
    BoxLayout:
        size_hint: 1,None
        height: 26
        Label:
            id: white_player_clock
            size_hint: 1,None
            text: "10:00"
            font_size: "30dp"
            font_name: "./fonts/Lcd.ttf"
            height: 26
        Label:
            id: white_player_banner
            text: "Joueur blanc"
            size_hint: 2,None
            background_color: (120/255,238/255,62/255,1)
            canvas.before:
                Color:
                    rgba: self.background_color
                Rectangle:
                    size: self.size
                    pos: self.pos
            height: 26
    Options:
        size_hint: 1, .1
        id: options

<Cell>:

<Options@BoxLayout>:
    orientation: "horizontal"
    spacing: 100
    canvas.before:
        Color:
            rgba: (129/255,133/255,137/255,1)
        Rectangle:
            size: self.size
            pos: self.pos
    BoxLayout:
        Button:
            id: undo
            # size_hint: 1,None
            # height: 200
            Image:
                source: "./Assets/images/undo.jpg"
                allow_stretch: True
                center_x: self.parent.center_x
                center_y: self.parent.center_y
                height: 50
                # size: 50,50
        Button:
            # size_hint: 1,None
            # height: 200
            id: redo
            Image:
                source: "./Assets/images/redo.png"
                allow_stretch: True
                center_x: self.parent.center_x
                center_y: self.parent.center_y
                height: 50

        Button: 
            # size_hint: 1,None
            # height: 80
            id: go_home
            text: 'Accueil'
            # Image:
            #     source: "./Assets/images/exit.png"
            #     allow_stretch: True
            #     center_x: self.parent.center_x
            #     center_y: self.parent.center_y
            #     size: 50,50




#==============================================================================
#============================================================================
# +------------------------- Screens --------------------------+

        # +--------- Player VS Machine Screen ---------+
<PvsmScreen>:
    name:"pvsm"
    canvas.before:
        Rectangle:
            pos: self.pos
            size: self.size
            source: './Assets/images/08.jpg'
    BoxLayout:
        orientation:"vertical"
        spacing:10
        BoxLayout:
            orientation:"vertical"
            size_hint: (1, 0.2)
            #pos_hint: {"center_x": 0.5, "center_y": 0.3}
            Label:
                text: "Chess game"
                font_name: "./fonts/Caveat-VariableFont_wght.ttf"
                font_size:90
                color:1,1,1,1
                bold:"true"
                size_hint_y: self.texture_size[1]

            Label:
                text: "Paramètres du match"
                font_size:20
        BoxLayout:   
            size_hint:1,0.2
        BoxLayout:
            orientation:"horizontal"
            pos_hint: {"x": 0.22, "center_y": 0.3}
            size_hint:.5,.1
            spacing:30
            Label:
                text:" Difficulté: "
                bold:"true"
                size_hint_x:.1
                font_size:20
            BoxLayout:
                size_hint:.25,1
                spacing:5
                Button:
                    text:"Facile"
                    size_hint_x:.1
                    bold:"true"
                    font_size:15
                    on_press:root.on_level_button_click(self,1)
                    disabled:root.level_clicked1
                    #color : 0,.7,0,1
                Button:
                    text:"Moyenne"
                    size_hint_x:.1
                    bold:"true"
                    font_size:15
                    on_press:root.on_level_button_click(self,2)
                    disabled:root.level_clicked2
                    #color : .8,.8,0,1
                Button:
                    text:"Difficile"
                    size_hint_x:.1
                    bold:"true"
                    font_size:15
                    on_press:root.on_level_button_click(self,3)
                    disabled:root.level_clicked3
                    #color : .8,0,0,1
        BoxLayout:
            orientation:"horizontal"
            pos_hint: {"x": 0.22, "center_y": 0.3}
            size_hint:.5,.15
            spacing:30
            Label:
                text:"Jouer en tant que: "
                bold:"true"
                size_hint_x:.1
                font_size:20
            BoxLayout:
                size_hint:.25,1
                spacing:10
                Button:
                    echo:"White"
                    size_hint:.3,1
                    bold:"true"
                    disabled : root.color_clicked
                    on_press: root.on_color_button_click(self)
                    Image:
                        source: './Assets/images/w_king.png'
                        # y: self.parent.y + self.parent.height -85
                        # x: self.parent.x +26
                        # size:80,80

                        size_hint: (None, None)
                        allow_stretch: True
                        size: 80, 80
                        center_x: self.parent.center_x
                        center_y: self.parent.center_y

                        #allow_stretch: True
                Button:
                    echo:"Black"
                    size_hint:.3,1
                    bold:"true"
                    disabled : not root.color_clicked
                    on_press:  root.on_color_button_click(self)
                    Image:
                        source: './Assets/images/b_king.png'
                        # y: self.parent.y + self.parent.height -85
                        # x: self.parent.x +26
                        # size:80,80

                        size_hint: (None, None)
                        allow_stretch: True
                        size: 80, 80
                        center_x: self.parent.center_x
                        center_y: self.parent.center_y

                        #allow_stretch: True
        BoxLayout:   
            size_hint:1,0.2
        BoxLayout:
            orientation:"horizontal"
            size_hint:.9,.1
            pos_hint: {"center_x": 0.5, "y": 0.8}
            spacing:400
            Button:
                text:"Retour"
                bold:"true"
                size_hint_x:.1
                on_press:
                    root.manager.transition.direction= "right"
                    root.manager.current = "home"
            Button:
                size_hint_x:.1
                bold:"true"
                text:"Jouer"
                on_press: root.init_game()
        
                                                                         
            # +--------- Player VS Player Screen ---------+

<PvspScreen>:
    name:"pvsp"
    canvas.before:
        Rectangle:
            pos: self.pos
            size: self.size
            source: './Assets/images/08.jpg'
    BoxLayout:
        orientation:"vertical"
        spacing:10
        BoxLayout:
            orientation:"vertical"
            size_hint: (1, 0.2)
            #pos_hint: {"center_x": 0.5, "center_y": 0.3}
            Label:
                text: "Chess game"
                font_name: "./fonts/Caveat-VariableFont_wght.ttf"
                font_size:90
                color:1,1,1,1
                bold:"true"
                size_hint_y: self.texture_size[1]

            Label:
                text: "Paramètres du match"
                font_size:20
        BoxLayout:   
            size_hint:1,0.25
        BoxLayout:
            orientation:"horizontal"
            pos_hint: {"x": 0.22, "center_y": 0.3}
            size_hint:.5,.2
            spacing:30
            Label:
                text:"Jouer en tant que: "
                bold:"true"
                size_hint_x:.1
                font_size:20
            BoxLayout:
                size_hint:.2,1
                spacing:10
                Button:
                    # text:"White"
                    size_hint:.3,1
                    bold:"true"
                    disabled : root.color_clicked
                    on_press: root.on_color_button_click(self)
                    Image:
                        source: './Assets/images/w_king.png'
                        # y: self.parent.y + self.parent.height -100
                        # x: self.parent.x +12
                        size_hint: (None, None)
                        allow_stretch: True
                        size: 100, 100
                        center_x: self.parent.center_x
                        center_y: self.parent.center_y
                        
                Button:
                    # text:"Black"
                    size_hint:.3,1
                    bold:"true"
                    disabled : not root.color_clicked
                    on_press: root.on_color_button_click(self)
                    Image:
                        source: './Assets/images/b_king.png'
                        # y: self.parent.y + self.parent.height -100
                        # x: self.parent.x +12

                        size_hint: (None, None)
                        allow_stretch: True
                        size: 100, 100
                        center_x: self.parent.center_x
                        center_y: self.parent.center_y

                        #allow_stretch: True
        BoxLayout:   
            size_hint:1,0.3
        BoxLayout:
            orientation:"horizontal"
            size_hint:.9,.1
            pos_hint: {"center_x": 0.5, "center_y": 0.3}
            spacing:400
            Button:
                text:"Retour"
                bold:"true"
                size_hint_x:.1
                on_press:
                    root.manager.transition.direction= "right"
                    root.manager.current = "home"
            Button:
                size_hint_x:.1
                bold:"true"
                text:"Jouer"
                on_press: root.init_game()
        

# +---------------------- Home Page ----------------------------+
<HomePage>:
    name:"home"
    canvas.before:
        Rectangle:
            pos: self.pos
            size: self.size
            source: './Assets/images/05.jpg'
            
    BoxLayout:
        orientation:"vertical"
        spacing:"20dp"
        padding: "30dp"
        # size_hint:None,None
        # height:250
        # width:380
        pos_hint:{"center_x":0.52}
        
        Label:
            pos_hint: {"center_x": .5}
            size_hint: 1, 3
            text:"Chess Game"
            bold: "True"
            font_size:"160dp"
            font_name: "./fonts/Caveat-VariableFont_wght.ttf"
            color:1,1,1,1
        Button:
            id : btn
            size_hint: .6, 1
            pos_hint: {"center_x": .5}
            text:"Joueur VS. Joueur"
            font_name: "./fonts/IndieFlower-Regular.ttf"
            font_size: "30dp"
            on_press : 
                root.playerVsPlayerInit() 
            bold:"true"
            # Image: 
            #     source:'./Assets/images/pvp.png'
            #     size: 50, 50
            #     pos: btn.pos
        Button:
            pos_hint: {"center_x": .5}
            size_hint: .6, 1
            text:"Joueur VS. Machine"
            font_name: "./fonts/IndieFlower-Regular.ttf"
            font_size: 30
            bold:"true"
            on_press:
                root.manager.current = "pvsm"
                root.manager.transition.direction = "left"
        Button:
            pos_hint: {"center_x": .5}
            size_hint: .6, 1
            id:stat
            disabled:True
            text:"Statistiques"
            bold:"true"
            font_name: "./fonts/IndieFlower-Regular.ttf"
            font_size: 30
            on_press:
                root.manager.transition.direction = "left"
                root.manager.remove_widget(root.manager.get_screen('stats'))
                root.init_stats_screen()
                root.manager.current = "stats"
        Button:
            pos_hint: {"center_x": .5}
            size_hint: .6, 1
            id:con
            text: "Connexion"
            bold:"true"
            font_name: "./fonts/IndieFlower-Regular.ttf"
            font_size: 30
            opacity:1
            disabled:False
            on_press : 
                root.manager.current = "connect"
                root.manager.transition.direction = "left"
        Button:
            pos_hint: {"center_x": .5}
            size_hint: .6, 1
            id:dec
            text: "Deconnexion"
            bold:"true"
            font_name: "./fonts/IndieFlower-Regular.ttf"
            font_size: 30
            opacity:0
            disabled:True
            on_press : 
                root.deconnexion()
                root.manager.current = "home"
                root.manager.transition.direction = "left"

<StatsScreen>:
    name: "stats"
    canvas.before:
        Rectangle:
            pos: self.pos
            size: self.size
            source: './Assets/images/c.jpg'
    BoxLayout:
        padding: 0, 0, 0, 10
        orientation: "vertical"
        Label:
            text: "Chess game"
            font_name: "./fonts/Caveat-VariableFont_wght.ttf"
            font_size:90
            color:1,1,1,1
            bold:"true"
            size_hint: 1, .2
            # size_hint_y: self.texture_size[1]
        Label:
            text: "Statistiques du jeu, Joueur : "+root.playerName
            font_size: 20
            size_hint: 1, .1
        # Label:
        #     text: "Joueur : "+root.playerName
        #     font_size: 20
        #     size_hint: 1, .3
        BoxLayout:
            orientation: "horizontal"
            BoxLayout:
                padding: 10
                orientation: "vertical"
                Label:
                    size_hint: 1, 2.5
                    text: "Joueur Vs. Joueur"
                    underline: True
                    font_size : 30
                BoxLayout:
                    Label:
                        size_hint: .8, 1
                        text: "Total joué :"
                        halign: 'right'
                        valign: 'middle'
                    Label:
                        size_hint: .2, 1
                        text: str(root.PVPtotalPLayed)
                BoxLayout:
                    Label:
                        size_hint: .8, 1
                        text: "Victoires :"
                    Label:
                        size_hint: .2, 1
                        text: str(root.PVPwins)
                BoxLayout:
                    ProgressBar:
                        size_hint: .8, 1
                        value: root.PVPwinsPercentage
                    Label:
                        size_hint: .2, 1
                        text: str(int(root.PVPwinsPercentage))+"%"
                BoxLayout:
                    Label:
                        size_hint: .8, 1
                        text: "Perdus :"
                    Label:
                        size_hint: .2, 1
                        text: str(root.PVPlost)
                BoxLayout:
                    ProgressBar:
                        size_hint: .8, 1
                        value: root.PVPlostPercentage
                    Label:
                        size_hint: .2, 1
                        text: str(int(root.PVPlostPercentage))+"%"
                BoxLayout:
                    Label:
                        size_hint: .8, 1
                        text: "Matchs nuls :"
                    Label:
                        size_hint: .2, 1
                        text: str(root.PVPdraw)
                BoxLayout:
                    ProgressBar:
                        size_hint: .8, 1
                        value: root.PVPdrawPercentage
                    Label:
                        size_hint: .2, 1
                        text: str(int(root.PVPdrawPercentage))+"%"
                BoxLayout:
                    Label:
                        size_hint: .8, 1
                        text: "Meilleur score : "
                    Label:
                        size_hint: .2, 1
                        text: str(root.PVPbestScore)+"pts | "+str(divmod(root.PVPbestScoreTime, 60)[0])+"m"+str(divmod(root.PVPbestScoreTime, 60)[1])+"s"
                BoxLayout:
                    Label:
                        size_hint: .8, 1
                        text: "Meilleur temps : "
                    Label:
                        size_hint: .2, 1
                        text: str(divmod(root.PVPbestTime, 60)[0])+"m"+str(divmod(root.PVPbestTime, 60)[1])+"s"
            BoxLayout:
                #pvm stats
                padding: 10
                orientation: "vertical"
                Label:
                    size_hint: 1, 2.5
                    text: "Joueur Vs. Machine"
                    underline: True
                    font_size : 30
                BoxLayout:
                    Label:
                        size_hint: .8, 1
                        text: "Total joué :"
                        halign: 'right'
                        valign: 'middle'
                    Label:
                        size_hint: .2, 1
                        text: str(root.PVMtotalPLayed)
                BoxLayout:
                    Label:
                        size_hint: .8, 1
                        text: "Victoires :"
                    Label:
                        size_hint: .2, 1
                        text: str(root.PVMwins)
                BoxLayout:
                    ProgressBar:
                        size_hint: .8, 1
                        value: root.PVMwinsPercentage
                    Label:
                        size_hint: .2, 1
                        text: str(int(root.PVMwinsPercentage))+"%"
                BoxLayout:
                    Label:
                        size_hint: .8, 1
                        text: "Perdus :"
                    Label:
                        size_hint: .2, 1
                        text: str(root.PVMlost)
                BoxLayout:
                    ProgressBar:
                        size_hint: .8, 1
                        value: root.PVMlostPercentage
                    Label:
                        size_hint: .2, 1
                        text: str(int(root.PVMlostPercentage))+"%"
                BoxLayout:
                    Label:
                        size_hint: .8, 1
                        text: "Matchs nuls :"
                    Label:
                        size_hint: .2, 1
                        text: str(root.PVMdraw)
                BoxLayout:
                    ProgressBar:
                        size_hint: .8, 1
                        value: root.PVMdrawPercentage
                    Label:
                        size_hint: .2, 1
                        text: str(int(root.PVMdrawPercentage))+"%"
                BoxLayout:
                    Label:
                        size_hint: .8, 1
                        text: "Meilleur score : "
                    Label:
                        size_hint: .2, 1
                        text: str(root.PVMbestScore)+"pts | "+str(divmod(root.PVMbestScoreTime, 60)[0])+"m"+str(divmod(root.PVMbestScoreTime, 60)[1])+"s"
                BoxLayout:
                    Label:
                        size_hint: .8, 1
                        text: "Meilleur temps : "
                    Label:
                        size_hint: .2, 1
                        text: str(divmod(root.PVMbestTime, 60)[0])+"m"+str(divmod(root.PVMbestTime, 60)[1])+"s"
            

        Button:
            text: "Retour"
            size_hint: .3, .2
            pos_hint: {"center_x": .5}
            on_press:
                root.manager.current = "home"
                root.manager.transition.direction = "right"

        
# +------------ Connection Screen --------------+
<ConnectionPg>:
    username: username
    psw: psw
    name:"connect"
    canvas.before:
        Rectangle:
            pos: self.pos
            size: self.size
            source: './Assets/images/04.jpg'

    BoxLayout:
        orientation: 'vertical'
        BoxLayout:
            orientation:"vertical"
            size_hint:.6,.7
            spacing:"100dp"
            pos_hint: {"center_x": 0.5, "y": 0.25}
            Label:
                text: "Connexion"
                font_name: "./fonts/Caveat-VariableFont_wght.ttf"
                font_size:150
                color:1,1,1,1
                bold:"true"
                size_hint_y: self.texture_size[1]

            BoxLayout:
                orientation:"vertical"
                spacing:"30dp"
                size_hint_x:.95
                #size: root.size
                pos_hint:{"center_x":0.52}

                MDTextFieldRound:
                    focus: True
                    id: username
                    hint_text:"Entrez votre nom d'utilisateur"
                    pos_hint: {'center_x': 0.5, 'center_y': 0.705}
                    size_hint: 1, None
                    font_size: 25
                    font_name: "./fonts/IndieFlower-Regular.ttf"
                    height: 50
                    multiline:False
                    icon_right: "account"

                MDTextFieldRound:
                    id: psw
                    hint_text:'Entrez votre mot de passe'
                    password: True
                    pos_hint: {'center_x': 0.5, 'center_y': 0.705}
                    size_hint: 1, None
                    font_size: 25
                    font_name: "./fonts/IndieFlower-Regular.ttf"
                    height: 50
                    multiline:False
                    icon_right: "eye-off"

                BoxLayout:
                    size_hint:1,.1 
                    Label:
                        id: noti
                        text:""
                        color:8,8,0,1
                        bold:True
                        font_size:20

        BoxLayout:
            orientation:"horizontal"
            # size_hint:1
            # pos_hint:{"center_x":.55,"y":.08}
            pos_hint:{"center_x":0.52}
            size_hint: 1, .25
            padding: 50
            spacing: 20

            Button:
                text: "Retour"
                bold:"true"
                bold:"true"
                font_name: "./fonts/IndieFlower-Regular.ttf"
                font_size: 30
                on_press:
                    root.manager.transition.direction= "right"
                    root.manager.current = "home"

            Button:
                text: "S'inscrire"
                bold:"true"
                font_name: "./fonts/IndieFlower-Regular.ttf"
                font_size: 30
                on_press:root.signUp()
            Button:
                text: "Se connecter"
                bold:"true"
                font_name: "./fonts/IndieFlower-Regular.ttf"
                font_size: 30
                on_press:root.signIn()

            #+---------------PopUpChoice -------------------+
<ContentPopChoice>:
    orientation:"vertical"
    BoxLayout:
        Label:
            text:"Mode de jeu:"
            bold:True
            size_hint:1,0.2
    BoxLayout:
        Button:
            text:"Anonyme"
            size_hint:1,0.3
            bold:True
            on_press :  
                root.anonymousInit()
        Button:
            text:"Login"
            size_hint:1,0.3
            bold:True
            on_press: 
                root.loginInit()